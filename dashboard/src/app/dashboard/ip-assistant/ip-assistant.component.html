<form [formGroup]="ipForm" (ngSubmit)="onSubmit()">
    <mat-form-field appearance="fill">
        <mat-label>Name</mat-label>
        <input matInput minlength="4" maxlength="32" formControlName="name">
    </mat-form-field>
    <br>
    <mat-form-field appearance="fill">
        <mat-label>IPv4</mat-label>
        <input matInput minlength="7" maxlength="15"
            pattern="^((\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.){3}(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$" formControlName="ip"
            [placeholder]="publicIP!">
    </mat-form-field>
    <br>
    <span>
        <button mat-button color="primary" type="button" *ngIf="publicIP" (click)="onDirect()">Use {{publicIP}}</button>
        <button mat-flat-button color="primary" type="submit" [disabled]="!ipForm.valid">Add</button>
    </span>
</form>